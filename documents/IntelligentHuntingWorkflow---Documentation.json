{
  "name": "IntelligentHuntingWorkflow - Documentation",
  "description": "Documenta√ß√£o completa do workflow de hunting e recrutamento automatizado",
  "content": "# üéØ IntelligentHuntingWorkflow - Documenta√ß√£o Atualizada\n\n## üìã Overview\n\nWorkflow de hunting e recrutamento automatizado que analisa descri√ß√µes de vagas, busca candidatos em plataformas p√∫blicas, calcula scores de compatibilidade, **persiste no Airtable** e retorna um ranking estruturado.\n\n**‚ö° Atualiza√ß√£o**: Agora com persist√™ncia autom√°tica no Airtable!\n\n---\n\n## ‚úÖ O que foi criado\n\n### ü§ñ **3 Agentes Especializados**\n\n1. **JobDescriptionAnalyzer** (ID: `6aa5ccc3-f252-47e6-89d2-06827fc1549a`)\n   - Extrai role, seniority, skills e keywords de descri√ß√µes de vagas\n   - Retorna JSON estruturado\n   - Modelo: Claude Sonnet 4.5\n\n2. **CandidateSearchAgent** (ID: `9e84a217-d9bc-42b4-8d8e-fce97115caa4`)\n   - Busca candidatos em GitHub, Dev.to e Reddit\n   - Tools: HTTP_GET\n   - Retorna perfis normalizados\n\n3. **CandidateScoringAgent** (ID: `6b6c476f-6cb8-4720-981c-7d539525021b`)\n   - Calcula score 0-100 baseado em crit√©rios objetivos\n   - Fornece rationale detalhado\n   - Modelo: Claude Sonnet 4.5\n\n### üîÑ **Workflow com 6 Steps**\n\n#### **Step 1: analyze-job-description**\n- **Input**: `jobDescription` (string)\n- **Output**: `jobData` (object), `rawJobDescription` (string)\n- **Fun√ß√£o**: Usa AI_GENERATE_OBJECT para extrair:\n  - `role`: Cargo da vaga\n  - `seniority`: junior | mid | senior | lead\n  - `must_have_skills`: Array de habilidades obrigat√≥rias\n  - `nice_to_have_skills`: Array de habilidades desej√°veis\n  - `keywords`: Termos para busca\n  - `boolean_search`: String booleana para LinkedIn Recruiter\n\n#### **Step 2: search-candidates-github**\n- **Input**: `keywords`, `location` (optional), `limit`\n- **Output**: `candidates` (array)\n- **Fun√ß√£o**: Busca candidatos no GitHub usando API p√∫blica\n  - Usa GitHub Search API\n  - Obt√©m detalhes de cada usu√°rio (bio, repos, followers, location)\n  - Retorna perfis normalizados\n\n#### **Step 3: score-candidates**\n- **Input**: `candidates`, `jobData`\n- **Output**: `scoredCandidates`, `jobData`\n- **Fun√ß√£o**: Calcula score de compatibilidade para cada candidato\n  - Usa AI_GENERATE_OBJECT com schema de scoring\n  - Crit√©rios:\n    - 40 pts: Compatibilidade de cargo\n    - 30 pts: Match de skills e keywords\n    - 20 pts: Compatibilidade de senioridade\n    - 10 pts: Sinais de qualidade (ingl√™s, comunica√ß√£o, open source)\n\n#### **Step 4: rank-candidates**\n- **Input**: `scoredCandidates`, `jobData`, `topCandidatesCount`\n- **Output**: `topCandidates`, `allRankedCandidates`, `jobData`, `summary`\n- **Fun√ß√£o**: Ordena candidatos por score e gera estat√≠sticas\n  - Ordena√ß√£o decrescente por score\n  - Seleciona top N candidatos (default: 5)\n  - Calcula m√©tricas: total, m√©dia, highest score\n\n#### **‚≠ê Step 5: save-to-airtable (NOVO)**\n- **Input**: `topCandidates`, `jobData`\n- **Output**: `savedRecords`, `successCount`, `failureCount`\n- **Fun√ß√£o**: Persiste candidatos no Airtable\n  - L√™ secrets: `AIRTABLE_TOKEN`, `AIRTABLE_BASE_ID`, `AIRTABLE_TABLE_NAME`\n  - Faz POST na API oficial do Airtable\n  - Usa formato `records` com campos:\n    - `jobTitle`: Extra√≠do do `role` da vaga\n    - `name`: Nome do candidato\n    - `platform`: Plataforma de origem (github, dev.to, etc.)\n    - `profileUrl`: Link do perfil\n    - `score`: Score de compatibilidade (0-100)\n    - `rationale`: Justificativa detalhada do score\n  - Retorna contadores de sucesso/falha\n\n#### **Step 6: format-results**\n- **Input**: `topCandidates`, `jobData`, `summary`, `airtableResult`\n- **Output**: `job`, `candidates`, `summary`, `persistence`\n- **Fun√ß√£o**: Formata output final estruturado\n  - Adiciona se√ß√£o `persistence` com resultados do Airtable\n  - Inclui contadores: `saved`, `failed`, `error`\n\n---\n\n## üîê Configura√ß√£o de Secrets\n\nAntes de executar o workflow, configure os seguintes secrets:\n\n### 1. **AIRTABLE_TOKEN**\n- **Descri√ß√£o**: Personal Access Token do Airtable\n- **Como obter**:\n  1. Acesse https://airtable.com/create/tokens\n  2. Clique em \"Create new token\"\n  3. D√™ permiss√µes de `data.records:write` para a base desejada\n  4. Copie o token gerado\n\n### 2. **AIRTABLE_BASE_ID**\n- **Descri√ß√£o**: ID da Base do Airtable\n- **Como obter**:\n  1. Acesse sua base no Airtable\n  2. Olhe na URL: `https://airtable.com/appXXXXXXXXXXXXXX/...`\n  3. Copie o ID que come√ßa com `app...`\n\n### 3. **AIRTABLE_TABLE_NAME**\n- **Descri√ß√£o**: Nome da tabela onde os candidatos ser√£o salvos\n- **Exemplo**: `Candidates`, `Recruitment Pipeline`, `Job Applicants`\n- **Importante**: A tabela deve ter os seguintes campos:\n  - `jobTitle` (Single line text)\n  - `name` (Single line text)\n  - `platform` (Single line text)\n  - `profileUrl` (URL)\n  - `score` (Number)\n  - `rationale` (Long text)\n\n### Como configurar os secrets:\n\n```bash\n# Via CLI\ndeco secret create AIRTABLE_TOKEN \"seu_token_aqui\"\ndeco secret create AIRTABLE_BASE_ID \"appXXXXXXXXXXXXXX\"\ndeco secret create AIRTABLE_TABLE_NAME \"Candidates\"\n```\n\nOu use a interface do deco.cx para criar os secrets.\n\n---\n\n## üöÄ Como Usar\n\n### Input do Workflow\n\n```json\n{\n  \"jobDescription\": \"Estamos buscando um Senior Backend Developer com experi√™ncia em Python, Django e APIs REST. O candidato deve ter 5+ anos de experi√™ncia...\",\n  \"location\": \"Brazil\",\n  \"candidateLimit\": 10,\n  \"topCandidatesCount\": 5\n}\n```\n\n### Par√¢metros\n\n- **jobDescription** (required): Descri√ß√£o completa da vaga em texto natural\n- **location** (optional): Localiza√ß√£o para filtrar candidatos\n- **candidateLimit** (optional): N√∫mero m√°ximo de candidatos a buscar (default: 10, max: 10)\n- **topCandidatesCount** (optional): N√∫mero de top candidatos a retornar (default: 5)\n\n### Output do Workflow\n\n```json\n{\n  \"job\": {\n    \"role\": \"Senior Backend Developer\",\n    \"seniority\": \"senior\",\n    \"analyzed_at\": \"2025-12-15T23:18:00.000Z\"\n  },\n  \"candidates\": [\n    {\n      \"name\": \"Jo√£o Silva\",\n      \"platform\": \"github\",\n      \"profile_url\": \"https://github.com/joaosilva\",\n      \"score\": 85,\n      \"rationale\": \"Forte experi√™ncia em Python e Django (40 pts). Match de 80%+ das skills obrigat√≥rias (30 pts). Senioridade compat√≠vel baseado em 6 anos de experi√™ncia (20 pts). Projetos open source relevantes (10 pts).\"\n    }\n  ],\n  \"summary\": {\n    \"totalCandidates\": 10,\n    \"topCandidatesCount\": 5,\n    \"averageScore\": 67.5,\n    \"highestScore\": 85\n  },\n  \"persistence\": {\n    \"airtable\": {\n      \"saved\": 5,\n      \"failed\": 0,\n      \"error\": null\n    }\n  }\n}\n```\n\n---\n\n## üìä Fluxo Completo\n\n```mermaid\ngraph LR\n    A[Input: Job Description] --> B[Step 1: Analyze]\n    B --> C[Step 2: Search GitHub]\n    C --> D[Step 3: Score]\n    D --> E[Step 4: Rank]\n    E --> F[Step 5: Save to Airtable]\n    F --> G[Step 6: Format Results]\n    G --> H[Output: Ranked Candidates + Persistence Status]\n```\n\n### Dados que fluem entre steps:\n\n1. **analyze-job-description** ‚Üí `jobData`, `rawJobDescription`\n2. **search-candidates-github** ‚Üí `candidates[]`\n3. **score-candidates** ‚Üí `scoredCandidates[]`\n4. **rank-candidates** ‚Üí `topCandidates[]`, `allRankedCandidates[]`, `summary`\n5. **save-to-airtable** ‚Üí `savedRecords[]`, `successCount`, `failureCount`\n6. **format-results** ‚Üí Output final estruturado\n\n---\n\n## üîß Exemplo de Tabela Airtable\n\n### Schema Recomendado\n\n| Campo | Tipo | Descri√ß√£o |\n|-------|------|-------------|\n| **jobTitle** | Single line text | T√≠tulo da vaga (ex: \"Senior Backend Developer\") |\n| **name** | Single line text | Nome do candidato |\n| **platform** | Single select | Plataforma de origem (github, dev.to, reddit) |\n| **profileUrl** | URL | Link para o perfil do candidato |\n| **score** | Number | Score de compatibilidade (0-100) |\n| **rationale** | Long text | Justificativa detalhada do score |\n| **createdAt** | Created time | Timestamp autom√°tico |\n| **status** | Single select | Status manual (New, Contacted, Interview, etc.) |\n\n### Views Recomendadas\n\n1. **Top Candidates**: Filtro `score >= 70`, ordenado por `score DESC`\n2. **By Platform**: Agrupado por `platform`\n3. **By Job**: Agrupado por `jobTitle`\n4. **Pipeline**: Kanban por `status`\n\n---\n\n## üõ†Ô∏è Extens√µes Futuras\n\n### ‚úèÔ∏è Roadmap\n\n1. **Mais Plataformas de Busca**\n   - Dev.to (artigos e autores)\n   - Reddit (subreddits de tecnologia)\n   - Stack Overflow (perfis p√∫blicos)\n   - Twitter/X (desenvolvedores ativos)\n\n2. **Persist√™ncia Adicional**\n   - ‚úÖ Airtable (implementado)\n   - Notion Database\n   - Google Sheets\n   - PostgreSQL via Supabase\n\n3. **An√°lises Avan√ßadas**\n   - Sentiment analysis de posts/commits\n   - Culture fit scoring\n   - Detec√ß√£o de soft skills\n   - An√°lise de trajet√≥ria de carreira\n\n4. **Automa√ß√µes**\n   - Envio autom√°tico de convites (LinkedIn via human-in-the-loop)\n   - Email outreach personalizado\n   - Agendamento de entrevistas\n   - Atualiza√ß√£o de status no Airtable\n\n5. **Dashboards e Views**\n   - View customizada para visualizar candidatos\n   - Gr√°ficos de score distribution\n   - Timeline de busca\n   - Heatmap de skills\n\n---\n\n## üîë Regras de Scoring\n\n### 1. Compatibilidade de Cargo (40 pontos)\n- 40 pts: Cargo mencionado explicitamente no perfil\n- 25 pts: Cargo relacionado (ex: Full Stack para vaga Backend)\n- 10 pts: Cargo distante mas com skills relevantes\n- 0 pts: Cargo incompat√≠vel\n\n### 2. Match de Skills e Keywords (30 pontos)\n- 30 pts: 80%+ das must_have_skills presentes\n- 20 pts: 50-79% das must_have_skills presentes\n- 10 pts: <50% das must_have_skills presentes\n- +5 pts bonus: nice_to_have_skills presentes\n\n### 3. Compatibilidade de Senioridade (20 pontos)\n- 20 pts: Senioridade exata (senior = senior)\n- 15 pts: 1 n√≠vel de diferen√ßa (mid para senior)\n- 5 pts: 2+ n√≠veis de diferen√ßa\n- Sinais: anos de experi√™ncia, complexidade de projetos\n\n### 4. Sinais de Qualidade (10 pontos)\n- +3 pts: Ingl√™s fluente/t√©cnico aparente\n- +3 pts: Comunica√ß√£o ativa (artigos, posts, comunidade)\n- +4 pts: Projetos open source ou contribui√ß√µes relevantes\n\n---\n\n## üí° Observa√ß√µes Importantes\n\n### ‚úÖ Diferenciais\n- **Apenas dados p√∫blicos**: Respeita privacidade e ToS das plataformas\n- **Scoring objetivo e explicado**: Rationale detalha cada pontua√ß√£o\n- **Persist√™ncia autom√°tica**: Candidatos salvos no Airtable automaticamente\n- **Facilmente extens√≠vel**: Adicionar novas plataformas √© simples\n- **Human-in-the-loop**: LinkedIn requer intera√ß√£o manual (boolean search gerada)\n\n### ‚ö†Ô∏è Limita√ß√µes Atuais\n- GitHub API tem rate limiting (60 requests/hora sem auth)\n- Busca limitada a 10 candidatos por execu√ß√£o\n- Scoring depende da qualidade das bios/perfis p√∫blicos\n- Airtable API tem limite de 10 registros por request (workflow divide automaticamente se necess√°rio)\n\n### üîê Seguran√ßa e Compliance\n- Usa apenas APIs p√∫blicas e dados dispon√≠veis\n- N√£o scraping ou viola√ß√£o de ToS\n- Respeita LGPD/GDPR (dados p√∫blicos)\n- Secrets gerenciados de forma segura via Project Secrets Management\n\n---\n\n## üêõ Troubleshooting\n\n### Erro: \"Missing Airtable credentials\"\n**Solu√ß√£o**: Configure os 3 secrets necess√°rios (AIRTABLE_TOKEN, AIRTABLE_BASE_ID, AIRTABLE_TABLE_NAME)\n\n### Erro: \"Airtable API error: 422\"\n**Causa**: Schema da tabela n√£o corresponde aos campos enviados\n**Solu√ß√£o**: Certifique-se de que a tabela tem os campos: jobTitle, name, platform, profileUrl, score, rationale\n\n### Erro: \"Airtable API error: 401\"\n**Causa**: Token inv√°lido ou sem permiss√µes\n**Solu√ß√£o**: Regenere o token no Airtable e certifique-se de dar permiss√£o `data.records:write`\n\n### Scoring retornando 0 para todos\n**Causa**: Perfis do GitHub com pouca informa√ß√£o\n**Solu√ß√£o**: Ajuste os crit√©rios de scoring ou adicione mais plataformas de busca\n\n---\n\n## üìö Recursos Criados\n\n- **URI do Workflow**: `rsc://i:workflows-management/workflow/IntelligentHuntingWorkflow`\n- **3 Agentes**: JobDescriptionAnalyzer, CandidateSearchAgent, CandidateScoringAgent\n- **6 Steps**: analyze ‚Üí search ‚Üí score ‚Üí rank ‚Üí **save-to-airtable** ‚Üí format\n- **Integra√ß√µes Usadas**: AI Gateway, HTTP, Secrets Management, Time\n- **3 Secrets**: AIRTABLE_TOKEN, AIRTABLE_BASE_ID, AIRTABLE_TABLE_NAME\n\n---\n\n## üìù Changelog\n\n### v2.0 - 15/12/2025\n- ‚ú® **NOVO**: Step `save-to-airtable` para persist√™ncia autom√°tica\n- ‚ú® **NOVO**: Gerenciamento de secrets para credenciais do Airtable\n- üîÑ **ATUALIZADO**: Step `format-results` agora inclui se√ß√£o `persistence`\n- üìù **DOCS**: Documenta√ß√£o completa de configura√ß√£o do Airtable\n\n### v1.0 - 15/12/2025\n- ‚ú® Workflow inicial com 5 steps\n- ‚ú® Busca no GitHub\n- ‚ú® Scoring baseado em IA\n- ‚ú® Ranking autom√°tico\n\n---\n\n**Criado em**: 15/12/2025  \n**√öltima atualiza√ß√£o**: 15/12/2025  \n**Status**: ‚úÖ Workflow pronto para uso com persist√™ncia no Airtable  \n**Pr√≥ximos passos**: Configurar secrets, testar com vaga real, adicionar mais plataformas",
  "tags": [
    "workflow",
    "hunting",
    "recrutamento",
    "automation",
    "ai"
  ]
}